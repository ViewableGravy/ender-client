# Story FB-1.7: Create Storage Configuration Model

**Story ID**: FB-1.7  
**Epic**: Epic 1 - Field Data Structures  
**Story Points**: 8  
**Priority**: P1  
**Status**: Not Started  

## Description
Design a storage configuration system that links fields to input chests (seed sources) and output chests (harvest destinations), with support for quality-based sorting.

## Acceptance Criteria
- [ ] Create `StorageConfig.java` class
- [ ] Support multiple input chests (seed sources)
- [ ] Support multiple output chests (harvest destinations)
- [ ] Link chests to fields via field ID
- [ ] Store chest coordinates and types
- [ ] Support quality-based output sorting rules
- [ ] Add validation for chest accessibility (distance checks)
- [ ] Implement `findNearestInputChest()` and `findNearestOutputChest()` methods

## Technical Notes
- Chests identified by world coordinates (Coord2d)
- May need to detect chest type from Gob (chest vs trough vs barrel)
- Quality sorting examples:
  - High quality (≥ +3) → chest A
  - Medium quality (0 to +2) → chest B
  - Low quality (< 0) → chest C or discard
- Distance checks: ensure chest is within reasonable pathfinding range (e.g., 200 tiles)

**Example usage**:
```java
StorageConfig storage = new StorageConfig(fieldId);
storage.addInputChest(new Coord2d(100, 200), ChestType.CHEST);
storage.addOutputChest(new Coord2d(105, 205), ChestType.CHEST, 
    new QualityRule(3, 5)); // Quality +3 to +5
storage.addOutputChest(new Coord2d(110, 200), ChestType.CHEST,
    new QualityRule(-4, 2)); // Quality -4 to +2
```

## Files to Create/Modify
- **Create**: `src/auto/farming/model/StorageConfig.java`
- **Create**: `src/auto/farming/model/ChestLink.java`
- **Create**: `src/auto/farming/model/ChestType.java` (enum)
- **Create**: `src/auto/farming/model/QualityRule.java`

## Dependencies
- FB-1.1 (FarmField for field ID references)

## Testing Notes
- Test multiple chests per field
- Verify nearest chest calculations
- Test quality rule matching logic
- Verify distance validation

## Definition of Done
- [ ] Code implemented and compiles without errors
- [ ] All acceptance criteria met
- [ ] Javadoc complete
- [ ] Manual testing completed
- [ ] Code reviewed
- [ ] Committed to feature branch
