# Story FB-1.3: Create Grid-Based Coordinate System

**Story ID**: FB-1.3  
**Epic**: Epic 1 - Field Data Structures  
**Story Points**: 13  
**Priority**: P0 (Blocker)  
**Status**: Not Started  

## Description
Implement a grid-based coordinate system for field boundaries that supports both rectangular and circular field shapes, with utilities for boundary checking and tile enumeration.

## Acceptance Criteria
- [ ] Create `FieldGrid.java` class to represent field boundaries
- [ ] Support rectangular grid definition (min/max x/y coordinates)
- [ ] Support circular grid definition (center point + radius)
- [ ] Implement `contains(Coord2d point)` method for boundary checking
- [ ] Implement `getTiles()` method to return all grid tiles in field
- [ ] Support grid subdivision for circles (quadrants, fifths, etc.)
- [ ] Add utility methods: `getCenter()`, `getArea()`, `getBounds()`
- [ ] Ensure grid aligns with Haven's tile system (11x11 unit tiles)

## Technical Notes
- Haven uses 11x11 unit tiles for the grid system
- Need to convert between world coordinates and grid coordinates
- Circle subdivision should create equal-area segments when possible
- Reference existing grid systems in `MapView.java` and `MCache.java`

**Grid Utilities**:
```java
public class GridUtils {
    public static final int TILE_SIZE = 11; // Haven's tile size
    
    public static Coord2d worldToGrid(Coord coord) {
        return new Coord2d(coord.x / TILE_SIZE, coord.y / TILE_SIZE);
    }
    
    public static Coord gridToWorld(Coord2d grid) {
        return new Coord((int)(grid.x * TILE_SIZE), (int)(grid.y * TILE_SIZE));
    }
}
```

## Files to Create/Modify
- **Create**: `src/auto/farming/model/FieldGrid.java`
- **Create**: `src/auto/farming/util/GridUtils.java`

## Dependencies
- FB-1.2 (FieldShape enum)

## Testing Notes
- Test rectangular bounds with various sizes
- Test circular bounds with different radii
- Verify `contains()` works at boundaries
- Test coordinate conversion accuracy
- Verify tile enumeration counts are correct

## Definition of Done
- [ ] Code implemented and compiles without errors
- [ ] All acceptance criteria met
- [ ] Javadoc complete
- [ ] Manual testing completed
- [ ] Code reviewed
- [ ] Committed to feature branch
