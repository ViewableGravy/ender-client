# Story FB-1.6: Implement Tile State Tracking

**Story ID**: FB-1.6  
**Epic**: Epic 1 - Field Data Structures  
**Story Points**: 13  
**Priority**: P0 (Blocker)  
**Status**: Not Started  

## Description
Create a system to track the state of individual tiles within a field, including tilling status, planted crops, growth stages, and quality information.

## Acceptance Criteria
- [ ] Create `TileState.java` class to track individual tile status
- [ ] Implement properties:
  - Grid coordinates (Coord2d)
  - Current state (UNTILLED, TILLED, PLANTED, GROWING_X, HARVESTABLE)
  - Planted crop type (if any)
  - Planted crop quality (if known)
  - Last updated timestamp
  - Growth stage (0-N)
- [ ] Create `FieldTileMap.java` to manage all tiles in a field
- [ ] Implement `updateTile(Coord2d, TileState)` method
- [ ] Implement `getTile(Coord2d)` method
- [ ] Add `getTilesByState(TileStateEnum)` query method
- [ ] Support bulk state updates for efficiency

## Technical Notes
- Need to efficiently track potentially hundreds of tiles per field
- Use HashMap for O(1) lookups by coordinate
- May need to periodically scan field to update tile states
- Growth stages may need to be inferred from Gob inspection

**TileStateEnum values**:
- UNTILLED: Empty, needs plowing
- TILLED: Plowed, ready for planting
- PLANTED: Seed planted, growing
- GROWING_1 through GROWING_N: Intermediate growth stages
- HARVESTABLE: Fully grown, ready to harvest
- UNKNOWN: State cannot be determined

## Files to Create/Modify
- **Create**: `src/auto/farming/model/TileState.java`
- **Create**: `src/auto/farming/model/FieldTileMap.java`
- **Create**: `src/auto/farming/model/TileStateEnum.java`

## Dependencies
- FB-1.3 (FieldGrid for coordinates)

## Testing Notes
- Test tile state transitions (untilled → tilled → planted → harvestable)
- Test bulk updates with 100+ tiles
- Verify query methods return correct filtered results
- Test thread safety if accessed from multiple threads

## Definition of Done
- [ ] Code implemented and compiles without errors
- [ ] All acceptance criteria met
- [ ] Javadoc complete
- [ ] Manual testing completed
- [ ] Code reviewed
- [ ] Committed to feature branch
